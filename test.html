<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Custom Calendar</title>
        <style>
            * {
                box-sizing: border-box;
            }

            body {
                font-family: Arial, sans-serif;
                background: #f0f0f0;
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
            }

            .calendar {
                width: 340px;
                background: #fff;
                border: 1px solid #ddd;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            /* Header */
            .calendar-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 12px;
                background: #f9f9f9;
                border-bottom: 1px solid #eee;
            }

            .calendar-header button {
                background: none;
                border: none;
                font-size: 18px;
                cursor: pointer;
            }

            .month-name {
                font-weight: bold;
                font-size: 16px;
            }

            /* Tools */
            .calendar-tools {
                display: flex;
                gap: 10px;
                padding: 10px;
                border-bottom: 1px solid #eee;
            }

            .date-input {
                flex: 1;
                padding: 6px;
                border: 1px solid #ccc;
                border-radius: 6px;
            }

            .today-btn {
                padding: 6px 12px;
                border: none;
                border-radius: 6px;
                background: #007bff;
                color: #fff;
                cursor: pointer;
            }

            /* Body */
            .calendar-body {
                padding: 10px;
            }

            .day-names,
            .dates-grid {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                text-align: center;
            }

            .day-names div {
                font-weight: bold;
                padding: 6px 0;
            }

            .date {
                padding: 8px 0;
                margin: 2px;
                cursor: pointer;
                border-radius: 6px;
                transition: background 0.2s;
            }

            .date:hover {
                background: #007bff;
                color: #fff;
            }

            .date.other-month {
                opacity: 0.8;
                color: #888;
            }

            .date.today {
                border: 1px solid #007bff;
                font-weight: bold;
                color: #007bff;
            }

            /* Footer */
            .calendar-footer {
                display: flex;
                justify-content: flex-end;
                gap: 10px;
                padding: 10px;
                border-top: 1px solid #eee;
            }

            .calendar-footer button {
                padding: 6px 12px;
                border: none;
                border-radius: 6px;
                cursor: pointer;
            }

            .cancel-btn {
                background: #eee;
            }

            .apply-btn {
                background: #007bff;
                color: #fff;
            }
        </style>
    </head>

    <body>


        <script>
            const datesGrid = document.querySelector('.dates-grid');
            const monthName = document.querySelector('.month-name');
            const prevBtn = document.querySelector('.prev-month');
            const nextBtn = document.querySelector('.next-month');
            const todayBtn = document.querySelector('.today-btn');
            const dateInput = document.querySelector('.date-input');

            let today = new Date();
            let currentMonth = today.getMonth();
            let currentYear = today.getFullYear();

            function renderCalendar(year, month) {
                datesGrid.innerHTML = "";

                let firstDay = new Date(year, month, 1).getDay();
                let lastDate = new Date(year, month + 1, 0).getDate();
                let prevLastDate = new Date(year, month, 0).getDate();

                monthName.textContent = new Date(year, month).toLocaleString('default', { month: 'long', year: 'numeric' });

                // Previous month dates
                for (let i = firstDay; i > 0; i--) {
                    const div = document.createElement("div");
                    div.classList.add("date", "other-month");
                    div.textContent = prevLastDate - i + 1;
                    datesGrid.appendChild(div);
                }

                // Current month dates
                for (let i = 1; i <= lastDate; i++) {
                    const div = document.createElement("div");
                    div.classList.add("date");
                    div.textContent = i;

                    // Highlight today
                    if (i === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                        div.classList.add("today");
                    }

                    // Select date
                    div.addEventListener("click", () => {
                        document.querySelectorAll(".date").forEach(d => d.classList.remove("selected"));
                        div.classList.add("selected");
                        dateInput.value = `${year}-${String(month + 1).padStart(2, "0")}-${String(i).padStart(2, "0")}`;
                    });

                    datesGrid.appendChild(div);
                }

                // Next month dates
                let totalCells = datesGrid.childElementCount;
                let nextDays = 7 - (totalCells % 7);
                if (nextDays < 7) {
                    for (let i = 1; i <= nextDays; i++) {
                        const div = document.createElement("div");
                        div.classList.add("date", "other-month");
                        div.textContent = i;
                        datesGrid.appendChild(div);
                    }
                }
            }

            // Buttons
            prevBtn.addEventListener("click", () => {
                currentMonth--;
                if (currentMonth < 0) {
                    currentMonth = 11;
                    currentYear--;
                }
                renderCalendar(currentYear, currentMonth);
            });

            nextBtn.addEventListener("click", () => {
                currentMonth++;
                if (currentMonth > 11) {
                    currentMonth = 0;
                    currentYear++;
                }
                renderCalendar(currentYear, currentMonth);
            });

            todayBtn.addEventListener("click", () => {
                currentMonth = today.getMonth();
                currentYear = today.getFullYear();
                renderCalendar(currentYear, currentMonth);
            });

            renderCalendar(currentYear, currentMonth);
        </script>
    </body>

</html>